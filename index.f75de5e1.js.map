{"mappings":"AAAA;AAEA,MAAM,YAAY,SAAS,aAAa,CAAC;AACzC,MAAM,cAAc,SAAS,aAAa,CAAC;AAC3C,MAAM,aAAa,SAAS,gBAAgB,CAAC;AAE7C,MAAM,cAAc,SAAS,aAAa,CAAC;AAC3C,MAAM,aAAa,SAAS,aAAa,CAAC;AAC1C,MAAM,eAAe,SAAS,aAAa,CAAC;AAE5C,IAAI,QAAQ;AACZ,IAAI,YAAY,EAAE;AAElB,SAAS;IACP,QAAQ;IACR,YAAY,WAAW,GAAG;IAC1B,YAAY,SAAS,CAAC,MAAM,CAAC;IAC7B,YAAY,SAAS,CAAC,GAAG,CAAC;IAC1B,UAAU,WAAW,GAAG;IACxB,YAAY,SAAS,CAAC,GAAG,CAAC;IAC1B,WAAW,SAAS,CAAC,GAAG,CAAC;IACzB,aAAa,SAAS,CAAC,GAAG,CAAC;IAE3B,YAAY;QACV;YAAC;YAAG;YAAG;YAAG;SAAE;QACZ;YAAC;YAAG;YAAG;YAAG;SAAE;QACZ;YAAC;YAAG;YAAG;YAAG;SAAE;QACZ;YAAC;YAAG;YAAG;YAAG;SAAE;KACb;IAED;IACA;AACF;AAEA,SAAS;IACP,MAAM,aAAa,EAAE;IAErB,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MAAO;QAChC,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MACzB,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,GAC1B,WAAW,IAAI,CAAC;YACd;YACA;QACF;IAGN;IAEA,IAAI,WAAW,MAAM,GAAG,GAAG;QACzB,MAAM,UAAU,UAAU,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,WAAW,MAAM,EAAE;QAEzE,SAAS,CAAC,QAAQ,GAAG,CAAC,CAAC,QAAQ,GAAG,CAAC,GAAG,KAAK,MAAM,KAAK,MAAM,IAAI;IAClE;IAEA,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,MAAM,EAAE,IAAK;QAC1C,MAAM,MAAM,KAAK,KAAK,CAAC,IAAI;QAC3B,MAAM,MAAM,IAAI;QAEhB,UAAU,CAAC,EAAE,CAAC,WAAW,GACrB,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,KAAK,SAAS,CAAC,IAAI,CAAC,IAAI;QAExD,UAAU,CAAC,EAAE,CAAC,SAAS,GAAG;QAE1B,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,GAC1B,UAAU,CAAC,EAAE,CAAC,SAAS,CAAC,GAAG,CACzB,CAAC,YAAY,EAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAG1C;IAEA,UAAU,WAAW,GAAG;AAC1B;AAEA,SAAS;IACP,IAAI,QAAQ;IAEZ,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MAAO;QAChC,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MACzB,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,GAAG;YAC7B,IAAI,aAAa;YAEjB,MAAO,aAAa,KAAK,SAAS,CAAC,aAAa,EAAE,CAAC,IAAI,KAAK,EAAG;gBAC7D,SAAS,CAAC,aAAa,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,WAAW,CAAC,IAAI;gBAC3D,SAAS,CAAC,WAAW,CAAC,IAAI,GAAG;gBAC7B;gBACA,QAAQ;YACV;YAEA,IACE,aAAa,KACV,SAAS,CAAC,aAAa,EAAE,CAAC,IAAI,KAAK,SAAS,CAAC,WAAW,CAAC,IAAI,EAChE;gBACA,SAAS,CAAC,aAAa,EAAE,CAAC,IAAI,IAAI;gBAClC,SAAS,SAAS,CAAC,aAAa,EAAE,CAAC,IAAI;gBACvC,SAAS,CAAC,WAAW,CAAC,IAAI,GAAG;gBAC7B,QAAQ;YACV;QACF;IAEJ;IAEA,OAAO;AACT;AAEA,SAAS;IACP,IAAI,QAAQ;IAEZ,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MAAO;QAChC,IAAK,IAAI,MAAM,GAAG,OAAO,GAAG,MAC1B,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,GAAG;YAC7B,IAAI,aAAa;YAEjB,MAAO,aAAa,KAAK,SAAS,CAAC,aAAa,EAAE,CAAC,IAAI,KAAK,EAAG;gBAC7D,SAAS,CAAC,aAAa,EAAE,CAAC,IAAI,GAAG,SAAS,CAAC,WAAW,CAAC,IAAI;gBAC3D,SAAS,CAAC,WAAW,CAAC,IAAI,GAAG;gBAC7B;gBACA,QAAQ;YACV;YAEA,IACE,aAAa,KACV,SAAS,CAAC,aAAa,EAAE,CAAC,IAAI,KAAK,SAAS,CAAC,WAAW,CAAC,IAAI,EAChE;gBACA,SAAS,CAAC,aAAa,EAAE,CAAC,IAAI,IAAI;gBAClC,SAAS,SAAS,CAAC,aAAa,EAAE,CAAC,IAAI;gBACvC,SAAS,CAAC,WAAW,CAAC,IAAI,GAAG;gBAC7B,QAAQ;YACV;QACF;IAEJ;IAEA,OAAO;AACT;AAEA,SAAS;IACP,IAAI,QAAQ;IAEZ,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MAAO;QAChC,IAAK,IAAI,MAAM,GAAG,OAAO,GAAG,MAC1B,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,GAAG;YAC7B,IAAI,aAAa;YAEjB,MAAO,aAAa,KAAK,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,EAAG;gBAC7D,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW;gBAC3D,SAAS,CAAC,IAAI,CAAC,WAAW,GAAG;gBAC7B;gBACA,QAAQ;YACV;YAEA,IACE,aAAa,KACV,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,SAAS,CAAC,IAAI,CAAC,WAAW,EAChE;gBACA,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI;gBAClC,SAAS,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE;gBACvC,SAAS,CAAC,IAAI,CAAC,WAAW,GAAG;gBAC7B,QAAQ;YACV;QACF;IAEJ;IAEA,OAAO;AACT;AAEA,SAAS;IACP,IAAI,QAAQ;IAEZ,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MAAO;QAChC,IAAK,IAAI,MAAM,GAAG,OAAO,GAAG,MAC1B,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,GAAG;YAC7B,IAAI,aAAa;YAEjB,MAAO,aAAa,KAAK,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,EAAG;gBAC7D,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW;gBAC3D,SAAS,CAAC,IAAI,CAAC,WAAW,GAAG;gBAC7B;gBACA,QAAQ;YACV;YAEA,IACE,aAAa,KACV,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,SAAS,CAAC,IAAI,CAAC,WAAW,EAChE;gBACA,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI;gBAClC,SAAS,SAAS,CAAC,IAAI,CAAC,aAAa,EAAE;gBACvC,SAAS,CAAC,IAAI,CAAC,WAAW,GAAG;gBAC7B,QAAQ;YACV;QACF;IAEJ;IAEA,OAAO;AACT;AAEA,SAAS;IACP,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MACzB,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MAAO;QAChC,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,GAC1B,OAAO;QAGT,IAAI,MAAM,KAAK,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC,MAAM,EAAE,CAAC,IAAI,EAC5D,OAAO;QAGT,IAAI,MAAM,KAAK,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,EAC5D,OAAO;IAEX;IAGF,OAAO;AACT;AAEA,SAAS;IACP,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MACzB,IAAK,IAAI,MAAM,GAAG,MAAM,GAAG,MAAO;QAChC,IAAI,SAAS,CAAC,IAAI,CAAC,IAAI,KAAK,MAC1B,OAAO;IAEX;IAGF,OAAO;AACT;AAEA,YAAY,gBAAgB,CAAC,SAAS;IACpC;AACF;AAEA,SAAS,gBAAgB,CAAC,WAAW,CAAC;IACpC,IAAI,QAAQ;IAEZ,OAAQ,EAAE,GAAG;QACX,KAAK;YACH,QAAQ;YACR;QAEF,KAAK;YACH,QAAQ;YACR;QAEF,KAAK;YACH,QAAQ;YACR;QAEF,KAAK;YACH,QAAQ;YACR;IACJ;IAEA,IAAI,OACF;IAGF,IAAI,iBACF,YAAY,SAAS,CAAC,MAAM,CAAC;SACxB,IAAI,YAAY;QACrB,YAAY,SAAS,CAAC,GAAG,CAAC;QAC1B,WAAW,SAAS,CAAC,MAAM,CAAC;IAC9B;AACF","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst gameScore = document.querySelector('.game-score');\nconst startButton = document.querySelector('.start');\nconst fieldCells = document.querySelectorAll('.field-cell');\n\nconst messageLose = document.querySelector('.message-lose');\nconst messageWin = document.querySelector('.message-win');\nconst messageStart = document.querySelector('.message-start');\n\nlet score = 0;\nlet gameField = [];\n\nfunction startGame() {\n  score = 0;\n  startButton.textContent = 'Restart';\n  startButton.classList.remove('start');\n  startButton.classList.add('restart');\n  gameScore.textContent = score;\n  messageLose.classList.add('hidden');\n  messageWin.classList.add('hidden');\n  messageStart.classList.add('hidden');\n\n  gameField = [\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n    [0, 0, 0, 0],\n  ];\n\n  generateNewNumber();\n  generateNewNumber();\n}\n\nfunction generateNewNumber() {\n  const emptyCells = [];\n\n  for (let row = 0; row < 4; row++) {\n    for (let col = 0; col < 4; col++) {\n      if (gameField[row][col] === 0) {\n        emptyCells.push({\n          row,\n          col,\n        });\n      }\n    }\n  }\n\n  if (emptyCells.length > 0) {\n    const randomC = emptyCells[Math.floor(Math.random() * emptyCells.length)];\n\n    gameField[randomC.row][randomC.col] = Math.random() < 0.9 ? 2 : 4;\n  }\n\n  for (let i = 0; i < fieldCells.length; i++) {\n    const row = Math.floor(i / 4);\n    const col = i % 4;\n\n    fieldCells[i].textContent\n      = gameField[row][col] === 0 ? '' : gameField[row][col];\n\n    fieldCells[i].className = 'field-cell';\n\n    if (gameField[row][col] !== 0) {\n      fieldCells[i].classList.add(\n        `field-cell--${gameField[row][col]}`,\n      );\n    }\n  }\n\n  gameScore.textContent = score;\n}\n\nfunction moveUp() {\n  let moved = false;\n\n  for (let col = 0; col < 4; col++) {\n    for (let row = 1; row < 4; row++) {\n      if (gameField[row][col] !== 0) {\n        let currentRow = row;\n\n        while (currentRow > 0 && gameField[currentRow - 1][col] === 0) {\n          gameField[currentRow - 1][col] = gameField[currentRow][col];\n          gameField[currentRow][col] = 0;\n          currentRow--;\n          moved = true;\n        }\n\n        if (\n          currentRow > 0\n          && gameField[currentRow - 1][col] === gameField[currentRow][col]\n        ) {\n          gameField[currentRow - 1][col] *= 2;\n          score += gameField[currentRow - 1][col];\n          gameField[currentRow][col] = 0;\n          moved = true;\n        }\n      }\n    }\n  }\n\n  return moved;\n}\n\nfunction moveDown() {\n  let moved = false;\n\n  for (let col = 0; col < 4; col++) {\n    for (let row = 2; row >= 0; row--) {\n      if (gameField[row][col] !== 0) {\n        let currentRow = row;\n\n        while (currentRow < 3 && gameField[currentRow + 1][col] === 0) {\n          gameField[currentRow + 1][col] = gameField[currentRow][col];\n          gameField[currentRow][col] = 0;\n          currentRow++;\n          moved = true;\n        }\n\n        if (\n          currentRow < 3\n          && gameField[currentRow + 1][col] === gameField[currentRow][col]\n        ) {\n          gameField[currentRow + 1][col] *= 2;\n          score += gameField[currentRow + 1][col];\n          gameField[currentRow][col] = 0;\n          moved = true;\n        }\n      }\n    }\n  }\n\n  return moved;\n}\n\nfunction moveRight() {\n  let moved = false;\n\n  for (let row = 0; row < 4; row++) {\n    for (let col = 2; col >= 0; col--) {\n      if (gameField[row][col] !== 0) {\n        let currentCol = col;\n\n        while (currentCol < 3 && gameField[row][currentCol + 1] === 0) {\n          gameField[row][currentCol + 1] = gameField[row][currentCol];\n          gameField[row][currentCol] = 0;\n          currentCol++;\n          moved = true;\n        }\n\n        if (\n          currentCol < 3\n          && gameField[row][currentCol + 1] === gameField[row][currentCol]\n        ) {\n          gameField[row][currentCol + 1] *= 2;\n          score += gameField[row][currentCol + 1];\n          gameField[row][currentCol] = 0;\n          moved = true;\n        }\n      }\n    }\n  }\n\n  return moved;\n}\n\nfunction moveLeft() {\n  let moved = false;\n\n  for (let row = 0; row < 4; row++) {\n    for (let col = 1; col <= 3; col++) {\n      if (gameField[row][col] !== 0) {\n        let currentCol = col;\n\n        while (currentCol > 0 && gameField[row][currentCol - 1] === 0) {\n          gameField[row][currentCol - 1] = gameField[row][currentCol];\n          gameField[row][currentCol] = 0;\n          currentCol--;\n          moved = true;\n        }\n\n        if (\n          currentCol > 0\n          && gameField[row][currentCol - 1] === gameField[row][currentCol]\n        ) {\n          gameField[row][currentCol - 1] *= 2;\n          score += gameField[row][currentCol - 1];\n          gameField[row][currentCol] = 0;\n          moved = true;\n        }\n      }\n    }\n  }\n\n  return moved;\n}\n\nfunction checkGameOver() {\n  for (let row = 0; row < 4; row++) {\n    for (let col = 0; col < 4; col++) {\n      if (gameField[row][col] === 0) {\n        return false;\n      }\n\n      if (row < 3 && gameField[row][col] === gameField[row + 1][col]) {\n        return false;\n      }\n\n      if (col < 3 && gameField[row][col] === gameField[row][col + 1]) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nfunction checkWin() {\n  for (let row = 0; row < 4; row++) {\n    for (let col = 0; col < 4; col++) {\n      if (gameField[row][col] === 2048) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nstartButton.addEventListener('click', () => {\n  startGame();\n});\n\ndocument.addEventListener('keydown', (e) => {\n  let moved = false;\n\n  switch (e.key) {\n    case 'ArrowUp':\n      moved = moveUp();\n      break;\n\n    case 'ArrowDown':\n      moved = moveDown();\n      break;\n\n    case 'ArrowRight':\n      moved = moveRight();\n      break;\n\n    case 'ArrowLeft':\n      moved = moveLeft();\n      break;\n  };\n\n  if (moved) {\n    generateNewNumber();\n  }\n\n  if (checkGameOver()) {\n    messageLose.classList.remove('hidden');\n  } else if (checkWin()) {\n    messageLose.classList.add('hidden');\n    messageWin.classList.remove('hidden');\n  }\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}